<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checklist Admissional - DP/RH</title>

<style>
:root {
    --bg: #0e1014;
    --card: #161a22;
    --accent: #5c8dff;
    --text: #e4e7ec;
    --muted: #7b8496;
    --danger: #ff5c7a;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', sans-serif;
}

body {
    background: var(--bg);
    color: var(--text);
    padding: 40px 20px;
    display: flex;
    justify-content: center;
}

.container {
    width: 100%;
    max-width: 900px;
}

h1 {
    margin-bottom: 25px;
    font-weight: 500;
    font-size: 22px;
}

.card {
    background: var(--card);
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 0 0 1px rgba(255,255,255,0.04);
}

.input-group {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
}

.input-group input {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
    background: #222631;
    color: var(--text);
}

button {
    padding: 8px 14px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-size: 12px;
    margin-right: 6px;
}

.primary { background: var(--accent); color: white; }
.secondary { background: #222631; color: var(--muted); }
.danger { background: var(--danger); color: white; }

.section-title {
    margin-top: 25px;
    margin-bottom: 10px;
    font-size: 13px;
    color: var(--accent);
}

.sub-title {
    margin-top: 18px;
    margin-bottom: 6px;
    font-size: 12px;
    color: var(--muted);
}

ul { list-style: none; }

li {
    padding: 6px 0;
    display: flex;
    align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

input[type="checkbox"] {
    margin-right: 10px;
    accent-color: var(--accent);
}

.completed label {
    text-decoration: line-through;
    color: var(--muted);
}

.progress-bar {
    height: 6px;
    background: #222631;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 8px;
}

.progress {
    height: 100%;
    width: 0%;
    background: var(--accent);
    transition: 0.3s;
}

.stats {
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 15px;
}
</style>
</head>

<body>
<div class="container">
<h1>ðŸ“‹ Checklist de DocumentaÃ§Ã£o Admissional</h1>

<div class="card">

<div class="input-group">
    <input type="text" id="matricula" placeholder="MatrÃ­cula">
    <input type="text" id="nome" placeholder="Nome do Colaborador">
    <button class="primary" onclick="carregarFuncionario()">Carregar</button>
</div>

<div class="progress-bar">
    <div class="progress" id="progress"></div>
</div>
<div class="stats" id="stats"></div>

<div id="checklist"></div>

<br>
<button class="primary" onclick="copiarRelatorio()">Copiar RelatÃ³rio</button>
<button class="secondary" onclick="exportarTXT()">Exportar .TXT</button>
<button class="danger" onclick="resetarChecklist()">Resetar</button>

</div>
</div>

<script>

const estrutura = {
"ðŸ”¹ DOCUMENTOS OBRIGATÃ“RIOS":[
"CurrÃ­culo atualizado","01 Foto 3x4","CTPS Digital","RG â€“ Frente e Verso","CPF",
"TÃ­tulo de Eleitor","Comprovante de ResidÃªncia Atual",
"Certificado de Dispensa de IncorporaÃ§Ã£o (Reservista)",
"CartÃ£o PIS + Consulta de QualificaÃ§Ã£o Cadastral",
"Comprovante de SituaÃ§Ã£o Cadastral do CPF",
"Atestado de Antecedentes Criminais (Original)",
"Conta BancÃ¡ria â€“ Bradesco ou Next",
"Certificados de Cursos Profissionalizantes",
"CNH (quando aplicÃ¡vel Ã  funÃ§Ã£o)",
"Exame ToxicolÃ³gico (para funÃ§Ã£o motorista)",
"Curso de DireÃ§Ã£o Defensiva (para funÃ§Ã£o motorista)",
"Curso de Primeiros Socorros (para funÃ§Ã£o motorista)",
"CartÃ£o de Vacina","Atestado MÃ©dico Admissional"
],
"ðŸ”¹ DOCUMENTOS OPCIONAIS / CONDICIONAIS":{
"ðŸ“š Escolaridade":[
"Ensino Fundamental","Ensino MÃ©dio","Ensino Superior",
"PÃ³s-GraduaÃ§Ã£o","Mestrado","Doutorado"
],
"ðŸ› Registro Profissional":[
"Registro Profissional (quando profissÃ£o regulamentada)",
"Registro Profissional Pendente"
],
"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Dependentes":[
"RG e CPF do CÃ´njuge","CertidÃ£o de Casamento / UniÃ£o EstÃ¡vel",
"RG e CPF dos Filhos","CartÃ£o de Vacina dos Filhos",
"DeclaraÃ§Ã£o Escolar dos Filhos"
]
}
};

let checklist = {};

function gerarChecklistBase(){
    let base = {};
    Object.values(estrutura).forEach(sec=>{
        if(Array.isArray(sec)){
            sec.forEach(item=>base[item]=false);
        } else {
            Object.values(sec).forEach(sub=>{
                sub.forEach(item=>base[item]=false);
            });
        }
    });
    return base;
}

function render(){
    const container = document.getElementById("checklist");
    container.innerHTML="";

    Object.entries(estrutura).forEach(([sec,conteudo])=>{
        container.innerHTML+=`<div class="section-title">${sec}</div>`;
        if(Array.isArray(conteudo)){
            criarLista(conteudo,container);
        } else {
            Object.entries(conteudo).forEach(([sub,itens])=>{
                container.innerHTML+=`<div class="sub-title">${sub}</div>`;
                criarLista(itens,container);
            });
        }
    });
    atualizarProgresso();
}

function criarLista(itens,container){
    const ul=document.createElement("ul");
    itens.forEach(item=>{
        const li=document.createElement("li");
        if(checklist[item]) li.classList.add("completed");
        li.innerHTML=`
        <input type="checkbox" ${checklist[item]?"checked":""}
        onchange="toggle('${item.replace(/'/g,"")}')">
        <label>${item}</label>`;
        ul.appendChild(li);
    });
    container.appendChild(ul);
}

function toggle(item){
    checklist[item]=!checklist[item];
    salvar();
}

function atualizarProgresso(){
    const total=Object.keys(checklist).length;
    const concluidos=Object.values(checklist).filter(v=>v).length;
    const perc=(concluidos/total)*100;
    document.getElementById("progress").style.width=perc+"%";
    document.getElementById("stats").innerText=
    `${concluidos} de ${total} documentos concluÃ­dos`;
}

function salvar(){
    const matricula=document.getElementById("matricula").value;
    const nome=document.getElementById("nome").value;
    if(!matricula) return;
    localStorage.setItem("func_"+matricula,
    JSON.stringify({nome,checklist}));
    render();
}

function carregarFuncionario(){
    const matricula=document.getElementById("matricula").value;
    if(!matricula) return alert("Informe a matrÃ­cula.");
    const dados=localStorage.getItem("func_"+matricula);
    if(dados){
        const obj=JSON.parse(dados);
        document.getElementById("nome").value=obj.nome;
        checklist=obj.checklist;
    } else {
        checklist=gerarChecklistBase();
    }
    render();
}

function gerarRelatorio(){
    const matricula=document.getElementById("matricula").value;
    const nome=document.getElementById("nome").value;
    let texto=`CHECKLIST ADMISSIONAL\n\nMatrÃ­cula: ${matricula}\nNome: ${nome}\n\n`;
    Object.entries(checklist).forEach(([doc,status])=>{
        texto+=`[${status?"OK":"PENDENTE"}] ${doc}\n`;
    });
    return texto;
}

function copiarRelatorio(){
    navigator.clipboard.writeText(gerarRelatorio());
    alert("RelatÃ³rio copiado!");
}

function exportarTXT(){
    const blob=new Blob([gerarRelatorio()],{type:"text/plain"});
    const link=document.createElement("a");
    link.href=URL.createObjectURL(blob);
    link.download="checklist_admissional.txt";
    link.click();
}

function resetarChecklist(){
    checklist=gerarChecklistBase();
    salvar();
}

</script>
</body>
</html>
